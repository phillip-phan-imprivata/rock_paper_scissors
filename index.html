<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
      console.log(game());
      function game(){

        //computer chooses rock, paper, or scissors
        function computerPlay(){
            const selections = ["Rock", "Paper", "Scissors"];
            return selections[Math.floor(Math.random()*selections.length)];
        }

        //player chooses rock paper or scissors
        function playerPlay(){
            let selection = prompt("Choose your weapon!").toLowerCase();
            return selection;
        }

        //check to see who won
        function playRound(playerSelection, computerSelection){
            if (playerSelection == "rock"){
                switch(computerSelection){
                    case "Rock":
                        return "Tie! You Both Chose Rock";
                        break;
                    case "Paper":
                        return "You Lose! Paper Beats Rock";
                        break;
                    case "Scissors":   
                        return "You Win! Rock Beats Scissors";
                        break;
                    default:
                        return "Game Over!";
                }
            }

            else if (playerSelection == "paper"){
                switch(computerSelection){
                    case "Rock":
                        return "You Win! Paper Beats Rock";
                        break;
                    case "Paper":
                        return "Tie! You Both Chose Paper";
                        break;
                    case "Scissors":   
                        return "You Lose! Scissors Beats Paper";
                        break;
                    default:
                        return "Game Over!";
                }
            }

            else if (playerSelection == "scissors"){
                switch(computerSelection){
                    case "Rock":
                        return "You Lose! Rock Beats Scissors";
                        break;
                    case "Paper":
                        return "You Win! Scissors Beats Paper";
                        break;
                    case "Scissors":   
                        return "Tie! You Both Chose Scissors";
                        break;
                    default:
                        return "Game Over!";
                }
            }

            else {
                return "You can't use that!";
            }
        }

        //if player won, add point to their score
        //if computer won, add point to its score
        //reprompt selection until someone wins

        let playerPoints = 0, computerPoints = 0;

        while (playerPoints < 5 && computerPoints < 5){
          let playerSelection = playerPlay();
          let computerSelection = computerPlay();
          
          let result = playRound(playerSelection, computerSelection);
          console.log(result);

          switch(result){
            case "You Win! Rock Beats Scissors":
            case "You Win! Paper Beats Rock":
            case "You Win! Scissors Beats Paper":
              playerPoints++;
              break;
            case "You Lose! Paper Beats Rock":
            case "You Lose! Scissors Beats Paper":
            case "You Lose! Rock Beats Scissors":
              computerPoints++;
              break;
          }

          console.log("Player Points: " + playerPoints);
          console.log("Computer Points: " + computerPoints);
        }

        //first one to 5 points, wins
        //confirm if player wants to play again
          if (playerPoints == 5){
            alert("Congratulations! You won the tournament!");
            let playAgain = confirm("Play Again?");
            if (playAgain == true){
              console.clear();
              game();
            }
            else {
              console.clear();
              console.log("(•w•)b");
              alert("Thanks.. thanks for playing my game.")
            }
          }
          else if (computerPoints == 5){
            alert("Sorry.. You lost the tournament...");
            let playAgain = confirm("Play Again?");
            if (playAgain == true){
              console.clear();
              game();
            }
            else {
              console.clear();
              console.log("(•w•)b");
              alert("Thanks.. thanks for playing my game.")
            }
          }
      }  

    </script>    
</body>
</html>

